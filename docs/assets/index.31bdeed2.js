var D=Object.defineProperty;var Q=(r,i,t)=>i in r?D(r,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[i]=t;var n=(r,i,t)=>(Q(r,typeof i!="symbol"?i+"":i,t),t);const H=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&e(h)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}};H();function Y(r,i,t){const e=i.width,s=i.height,o=e*.1,h=e*.1,a="#ffffff",c="#000000",l=2;r.fillStyle=c,r.fillRect(0,0,e,s),r.fillStyle=a,r.fillRect(o,s/2-h/2-l,t*(e-o*2),h),r.strokeStyle=a,r.lineWidth=l,r.strokeRect(o,s/2-h/2-l,e-o*2,h)}class V{constructor(i){n(this,"_animationFrameRequestId",null);n(this,"_lastTime");n(this,"updateFunction");this.updateFunction=i}start(){this._requestAnim()}stop(){this._animationFrameRequestId&&cancelAnimationFrame(this._animationFrameRequestId)}_requestAnim(){this._animationFrameRequestId=requestAnimationFrame(this._loop.bind(this))}_loop(i){if(this._requestAnim(),this._lastTime){const t=(i-this._lastTime)/1e3;this.updateFunction(t)}this._lastTime=i}}class M{constructor(i,t){n(this,"canvas");n(this,"ctx");n(this,"width");n(this,"height");this.canvas=this._createCanvas(i,t),this.ctx=this.canvas.getContext("2d"),this.width=i,this.height=t}clear(i){i?this.rect(0,0,this.width,this.height,i):this.ctx.clearRect(0,0,this.width,this.height)}rect(i,t,e,s,o){this.ctx.fillStyle=o,this.ctx.fillRect(i,t,e,s)}_createCanvas(i,t){const e=document.createElement("canvas");return e.width=i,e.height=t,this._stylizeCanvas(e,i,t),window.onresize=s=>this._scaleCanvas(i,t,e),document.body.appendChild(e),e}_stylizeCanvas(i,t,e){i.style.setProperty("-webkit-optimize-contrast","pixelated"),i.style.setProperty("-ms-interpolation-mode","nearest-neighbor"),i.style.setProperty("image-rendering","crisp-edges"),i.style.setProperty("image-rendering","pixelated"),this._scaleCanvas(t,e,i)}_scaleCanvas(i,t,e){const s=i/t,o=window.innerWidth/window.innerHeight;s<o?(e.style.setProperty("height","90%"),e.style.setProperty("width","auto")):(e.style.setProperty("height","auto"),e.style.setProperty("width","90%"))}}const v=new Map,R=new Map;function K(){document.addEventListener("keydown",r=>F(r.code)),document.addEventListener("keyup",r=>P(r.code)),document.addEventListener("mousedown",()=>F("Mouse")),document.addEventListener("mouseup",()=>P("Mouse"))}function F(r){R.get(r)||v.set(r,1),R.set(r,!0)}function P(r){R.set(r,!1)}function G(){for(const[r,i]of v.entries())v.set(r,Math.max(i-1,0))}function I(r){var t;return((t=v.get(r))!=null?t:0)>0}function C(r){var i;return(i=R.get(r))!=null?i:!1}const d={images:new Map,spriteSheets:new Map,numberOfAssetsToload:0,numberOfAssetsLoaded:0};let N=0;function U(){return N++}function z(r){return new Promise((i,t)=>{let e=new Image;e.onload=()=>i(e),e.onerror=t,e.src=r})}function Z(r){d.numberOfAssetsToload++;const i=U();return z(r).then(t=>{d.images.set(i,t),d.numberOfAssetsLoaded++}),function(){return d.images.get(i)}}function E(r,i,t){d.numberOfAssetsToload++;const e=U();return z(r).then(s=>{Promise.all(J(s,i,t)).then(o=>{d.numberOfAssetsLoaded++,d.spriteSheets.set(e,o)})}),function(){return d.spriteSheets.get(e)}}function J(r,i,t){const e=r.width/i,s=r.height/t,o=[];for(let h=0;h<r.height;h+=s)for(let a=0;a<r.width;a+=e)o.push(createImageBitmap(r,a,h,e,s));return o}async function X(r,i){const t=new FontFace(i,`url(${r})`);d.numberOfAssetsToload++,await t.load(),d.numberOfAssetsLoaded++,document.fonts.add(t)}function $(r,i){const t=new Audio(r);return t.volume=i!=null?i:1,d.numberOfAssetsToload++,t.addEventListener("canplaythrough",()=>{d.numberOfAssetsLoaded++},!1),t}function tt(){return d.numberOfAssetsToload===0?1:d.numberOfAssetsLoaded/d.numberOfAssetsToload}class it{constructor(i,t){n(this,"_drawing");n(this,"_gameLoop");n(this,"_loadingLoop");n(this,"_currentScene",null);this._drawing=new M(i,t),this._gameLoop=new V(this._gameUpdate.bind(this)),this._loadingLoop=new V(this._loadingUpdate.bind(this))}_gameUpdate(i){var t,e,s;this._drawing.clear(),(t=this._currentScene)!=null&&t.inProgress||(e=this._currentScene)==null||e.start(this),(s=this._currentScene)==null||s.update(i),G()}_loadingUpdate(){const i=tt();i>=1?(this._loadingLoop.stop(),this._gameLoop.start()):Y(this.ctx,this.canvas,i)}start(){K(),this._loadingLoop.start()}get ctx(){return this._drawing.ctx}get canvas(){return this._drawing.canvas}set scene(i){var t;(t=this._currentScene)==null||t.exit(),this._currentScene=i}get width(){return this.canvas.width}get height(){return this.canvas.height}}const B=class{constructor(...i){n(this,"_components",[]);n(this,"id");n(this,"game",null);n(this,"scene",null);n(this,"tags",[]);n(this,"onUpdate");this.id=B._newId(),i&&(this.tags=i)}static _newId(){return this._id++,this._id}add(...i){return i.forEach(t=>{this._components.push(t)}),this}remove(i){var e;const t=this._components.findIndex(s=>s instanceof i);(e=this._components[t])==null||e.beforeRemove(),this._components=this._components.filter(s=>!(s instanceof i))}get(i){const t=this._components.find(e=>e instanceof i);return t&&t instanceof i?t:null}destroy(){var i;(i=this.scene)==null||i.remove(this)}start(i){this.scene=i,this.game=i.game,this._components.forEach(t=>t.start(this))}update(i){this._components.forEach(t=>t.update(i)),this.onUpdate&&this.onUpdate.bind(this)(i)}beforeRemove(){this._components.forEach(i=>i.beforeRemove())}includeAllTags(i){for(const t of i)if(!this.tags.includes(t))return!1;return!0}};let _=B;n(_,"_id",0);class et{constructor(){n(this,"_queue",[])}add(i,t){this._queue.push({render:i,layer:t})}update(){var i;for(this._queue=this._queue.sort((t,e)=>t.layer-e.layer);this._queue.length>0;){const t=(i=this._queue.shift())==null?void 0:i.render;t&&t()}}clear(){this._queue=[]}}class st{constructor(){n(this,"inProgress",!1);n(this,"_actors",[]);n(this,"_toRemove",[]);n(this,"game",null);n(this,"background");n(this,"renderingQueue");n(this,"onUpdate");this.renderingQueue=new et}start(i){this.game=i,this.inProgress=!0;for(const[t,e]of this._actors.entries())e.start(this)}update(i){this._drawBackground();for(const t of this._actors.values())t.update(i);this.onUpdate&&this.onUpdate(i),this.renderingQueue.update(),this._toRemove.length&&this._deleteActors()}_drawBackground(){this.background&&this.game&&(this.game.ctx.fillStyle=this.background,this.game.ctx.fillRect(0,0,this.game.width,this.game.height))}_deleteActors(){this._actors.filter(t=>this._toRemove.includes(t.id)).forEach(t=>t.beforeRemove()),this._actors=this._actors.filter(t=>!this._toRemove.includes(t.id)),this._toRemove=[]}exit(){this._actors.forEach(i=>i.beforeRemove()),this.inProgress=!1}add(...i){return i.forEach(t=>{this._actors.push(t),this.inProgress&&t.start(this)}),this}remove(...i){i.forEach(t=>{this._toRemove.push(t.id)})}getAllByTags(...i){if(i.length===0)return[...this._actors];const t=[];return this._actors.forEach(e=>{e.includeAllTags(i)&&t.push(e)}),t}getAllByComponent(i){const t=[];return this._actors.forEach(e=>{e.get(i)&&t.push(e)}),t}}class x{constructor(){n(this,"_game",null);n(this,"_actor",null);n(this,"_scene",null)}start(i){this._actor=i,this._game=i.game,this._scene=i.scene}update(i){}beforeRemove(){}}class nt{constructor(){n(this,"_listeners",[]);n(this,"_id",0)}add(i){return this._listeners.push({id:this._id,callBack:i}),this._id++,this._id-1}remove(i){this._listeners=this._listeners.filter(t=>t.id!==i)}notify(i){this._listeners.forEach(t=>{t.callBack(i)})}}function ot(r,i){function*t(e,s){for(var o=[...e];o.length>0;)yield o.splice(0,s)}return[...t(r,i)]}class f extends x{constructor(t,e){super();n(this,"x");n(this,"y");n(this,"width",0);n(this,"height",0);this.x=t,this.y=e}}class A extends x{constructor(t,e){super();n(this,"_position",null);n(this,"_size");n(this,"_offset");n(this,"onCollide",new nt);this._size=t,this._offset=e!=null?e:{x:0,y:0}}start(t){super.start(t),this._position=t.get(f)}isOverlapping(...t){var o;const e=(o=this._scene)==null?void 0:o.getAllByTags(...t),s=[];return e==null||e.forEach(h=>{var a,c;if(h.id!==((a=this._actor)==null?void 0:a.id)){const l=(c=h.get(A))==null?void 0:c.box;l&&this._rectCollision(this.box,l)&&s.push(h)}}),s.length===0?!1:s}isColliding(t){var s,o,h,a,c;if(!((o=(s=this._actor)==null?void 0:s.get(w))!=null&&o.solid))return null;const e=(h=this._scene)==null?void 0:h.getAllByComponent(w);if(e)for(const l of e){const y=this._zoneCollision(t),p=l.get(A);if(((a=l.get(w))==null?void 0:a.solid)&&l.id!==((c=this._actor)==null?void 0:c.id)&&this._rectCollision(y,p))return this.collide(t,l,!0),p}return null}collide(t,e,s=!1){var o;this.onCollide.notify({direction:t,collider:e}),s&&this._actor&&((o=e.get(A))==null||o.collide(this._inverseDirection(t),this._actor))}_inverseDirection(t){switch(t){case"bottom":return"top";case"top":return"bottom";case"left":return"right";case"right":return"left"}}_rectCollision(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.height+t.y>e.y}_zoneCollision(t){switch(t){case"left":return{x:this.box.x-1,y:this.box.y+1,width:1,height:this.box.height-2};case"right":return{x:this.box.x+this.box.width,y:this.box.y+1,width:1,height:this.box.height-2};case"top":return{x:this.box.x,y:this.box.y,width:this.box.width-2,height:1};case"bottom":return{x:this.box.x+1,y:this.box.y+this.box.height,width:this.box.width-2,height:1}}}get box(){return{x:this.x,y:this.y,width:this.width,height:this.height}}get x(){var t,e;return(e=(t=this._position)==null?void 0:t.x)!=null?e:0+this._offset.x}get y(){var t,e;return(e=(t=this._position)==null?void 0:t.y)!=null?e:0+this._offset.y}get width(){return this._size.width-2*this._offset.x}get height(){return this._size.height-2*this._offset.y}get onFloor(){return this.isColliding("bottom")!==null}get onCeil(){return this.isColliding("top")!==null}get onWall(){return this.isColliding("left")!==null||this.isColliding("right")!==null}}class w extends x{constructor(t){super();n(this,"position",null);n(this,"_boxCollider",null);n(this,"velocity",{x:0,y:0});n(this,"maxVelocity");n(this,"solid",!0);if(t){const{maxVelocity:e,solid:s}=t;e&&(this.maxVelocity=e),this.solid=s!=null?s:!0}}start(t){super.start(t),this.position=t.get(f),this._boxCollider=t.get(A)}update(t){var s,o,h,a,c,l,y;const e=this.position;if(this._clampVelocity(t),e){e.x+=this.velocity.x*t;const p=this.xDirection;if(p&&this.solid){const u=(s=this._boxCollider)==null?void 0:s.isColliding(p);u&&p==="right"&&(e.x=u.x-((h=(o=this._boxCollider)==null?void 0:o.width)!=null?h:0)),u&&p==="left"&&(e.x=u.x+u.width)}e.y+=this.velocity.y*t;const m=this.yDirection;if(m&&this.solid){const u=(c=(a=this._boxCollider)==null?void 0:a.isColliding(m))!=null?c:0;u&&m==="top"&&(e.y=u.y+u.height),u&&m==="bottom"&&(e.y=u.y-((y=(l=this._boxCollider)==null?void 0:l.height)!=null?y:0))}}}_clampVelocity(t){const e=Math.sqrt(this.velocity.x**2+this.velocity.y**2);if(this.maxVelocity&&e>this.maxVelocity){const s=this.maxVelocity/e*t;this.velocity.x=this.velocity.x*s,this.velocity.y=this.velocity.y*s}}get xDirection(){return this.velocity.x>0?"right":this.velocity.x<0?"left":null}get yDirection(){return this.velocity.y>0?"bottom":this.velocity.y<0?"top":null}}class rt extends x{constructor(t,e,s){super();n(this,"_body",null);n(this,"_position",null);n(this,"_collider",null);n(this,"speed");n(this,"gridSize");n(this,"direction","bottom");n(this,"_oldDirection",this.direction);n(this,"_lastRequest");n(this,"_requestDelay",500);n(this,"walking",!1);n(this,"_wasWalking",!1);n(this,"_futurPos");n(this,"_onCollideId");n(this,"onStartWalking");n(this,"onStopWalking");n(this,"onChangeDir");this.speed=t,this.gridSize=e,this._requestDelay=s!=null?s:this._requestDelay}start(t){super.start(t),this._body=t.get(w),this._position=t.get(f),this._collider=t.get(A),this._collider&&(this._onCollideId=this._collider.onCollide.add(this._handleCollision.bind(this)))}_handleCollision({direction:t}){t===this.direction&&this._stopWalking()}beforeRemove(){var t,e;super.beforeRemove(),this._onCollideId&&((e=(t=this._collider)==null?void 0:t.onCollide)==null||e.remove(this._onCollideId))}update(){this._updateWalking(),this._callEvents()}_updateWalking(){this._position&&this._futurPos&&this._body&&(this.direction==="right"?this._position.x>=this._futurPos.x&&(this._position.x=this._futurPos.x,this._stopWalking()):this.direction==="left"?this._position.x<=this._futurPos.x&&(this._position.x=this._futurPos.x,this._stopWalking()):this.direction==="bottom"?this._position.y>=this._futurPos.y&&(this._position.y=this._futurPos.y,this._stopWalking()):this.direction==="top"&&this._position.y<=this._futurPos.y&&(this._position.y=this._futurPos.y,this._stopWalking()))}_callEvents(){this.direction!==this._oldDirection&&this.onChangeDir&&this.onChangeDir(this.direction),this.walking&&!this._wasWalking&&this.onStartWalking&&this.onStartWalking(this.direction),!this.walking&&this._wasWalking&&this.onStopWalking&&this.onStopWalking(this.direction),this._oldDirection=this.direction,this._wasWalking=this.walking}_stopWalking(){!this.walking||this._body&&this._position&&(this._body.velocity.x=0,this._body.velocity.y=0,this.walking=!1,this._lastRequest&&Date.now()-this._lastRequest.time>this._requestDelay&&this.goTo(this._lastRequest.direction))}goTo(t){this.walking?this._lastRequest={direction:t,time:Date.now()}:this._startWalking(t)}_startWalking(t){var e;if(this.direction=t,this._lastRequest=void 0,!((e=this._collider)!=null&&e.isColliding(t))){switch(t){case"left":if(this._body&&(this._body.velocity.x=-this.speed),this._position){const{x:s,y:o}=this._position;this._futurPos={x:s-this.gridSize,y:o},this.walking=!0}break;case"right":if(this._body&&(this._body.velocity.x=this.speed),this._position){const{x:s,y:o}=this._position;this._futurPos={x:s+this.gridSize,y:o},this.walking=!0}break;case"top":if(this._body&&(this._body.velocity.y=-this.speed),this._position){const{x:s,y:o}=this._position;this._futurPos={x:s,y:o-this.gridSize},this.walking=!0}break;case"bottom":if(this._body&&(this._body.velocity.y=+this.speed),this._position){const{x:s,y:o}=this._position;this._futurPos={x:s,y:o+this.gridSize},this.walking=!0}break}this._futurPos&&(this._futurPos.x=Math.floor(this._futurPos.x/this.gridSize)*this.gridSize,this._futurPos.y=Math.floor(this._futurPos.y/this.gridSize)*this.gridSize)}}}class S extends x{constructor(){super(...arguments);n(this,"layer",1)}update(t){var e;super.update(t),(e=this._scene)==null||e.renderingQueue.add(this.render.bind(this),this.layer)}render(){}}class ht extends S{constructor(t,e,s){super();n(this,"_position",null);n(this,"spriteSheet");n(this,"_currentAnim");n(this,"_cursor",0);n(this,"fps",5);n(this,"_nextFrameTime",0);n(this,"_delayBetweenFrame",0);n(this,"_playing",!0);n(this,"_looping",!0);n(this,"onAnimationEnd");n(this,"flipX",!1);n(this,"flipY",!1);this.spriteSheet=t,this._currentAnim=e;const{fps:o,playing:h,looping:a,start:c,onAnimationEnd:l}={...s};this.fps=o!=null?o:this.fps,this._playing=h!=null?h:this.playing,this._looping=a!=null?a:this._looping,this._cursor=c!=null?c:0,this.onAnimationEnd=l}start(t){super.start(t),this._position=t.get(f)}update(t){super.update(t)}render(){this.playing&&this._anim(),this._flipImage()}_flipImage(){var c,l,y,p,m,u,j,q,O;const t=Math.floor((l=(c=this._position)==null?void 0:c.x)!=null?l:0),e=Math.floor((p=(y=this._position)==null?void 0:y.y)!=null?p:0),s=this.flipX?-1:1,o=this.flipY?-1:1,h=this.flipX?-this.width:0,a=this.flipY?-this.height:0;(m=this._game)==null||m.ctx.save(),(u=this._game)==null||u.ctx.translate(t,e),(j=this._game)==null||j.ctx.scale(s,o),(q=this._game)==null||q.ctx.drawImage(this._image,h,a),(O=this._game)==null||O.ctx.restore()}get _image(){return this.spriteSheet()[this._currentAnim[this._cursor]]}_anim(){this._delayBetweenFrame=1e3/this.fps,window.performance.now()>this._nextFrameTime&&this.frame++}play(t){const{fps:e,looping:s,start:o,onAnimationEnd:h}={...t};this.fps=e!=null?e:this.fps,this._looping=s!=null?s:this._looping,this._cursor=o!=null?o:0,this._delayBetweenFrame=1e3/this.fps,this.onAnimationEnd=h;const a=window.performance.now();this._nextFrameTime=a+this._delayBetweenFrame,this._setPlaying(!0)}_setPlaying(t){this._playing=t,!this.playing&&this.onAnimationEnd&&this._actor&&this.onAnimationEnd(this._actor)}pause(t){this._setPlaying(!1),this.frame=t!=null?t:this.frame}get frame(){return this._cursor}set frame(t){this._cursor=t,this._resetTimer(),this._cursor>=this._currentAnim.length&&(this._looping?this._cursor=0:(this._cursor=this._currentAnim.length-1,this._setPlaying(!1)))}_resetTimer(){const t=window.performance.now();this._nextFrameTime=t+this._delayBetweenFrame}get playing(){return this._playing}get width(){return this.spriteSheet()[0].width}get height(){return this.spriteSheet()[0].height}set anim(t){this._currentAnim=t,this._cursor=Math.min(this._cursor,t.length-1)}}class W extends S{constructor(t,e,s){super();n(this,"_position",null);n(this,"width");n(this,"height");n(this,"color");this.width=t,this.height=e,this.color=s}start(t){super.start(t),this._position=t.get(f)}update(t){super.update(t)}render(){if(this._game){const t=this._game.ctx,e=this._position;t&&e&&(t.fillStyle=this.color,t.fillRect(e.x,e.y,this.width,this.height))}}}class b extends S{constructor(t,e="monospace",s=12,o="#000000"){super();n(this,"_position",null);n(this,"color");n(this,"content");n(this,"fontSize");n(this,"font");n(this,"_ctx");this.content=t,this.fontSize=s,this.color=o!=null?o:"#000000",this.font=e!=null?e:"monospace";const h=document.createElement("canvas");this._ctx=h.getContext("2d")}start(t){super.start(t),this._position=t.get(f)}update(t){super.update(t)}render(){if(this._game){const t=this._game.ctx,e=this._position;t&&e&&(t.textBaseline="top",t.fillStyle=this.color,t.font=`${this.fontSize}px ${this.font}`,t.fillText(this.content,e.x,e.y))}}get width(){return this._ctx.font=`${this.fontSize}px font`,this._ctx.measureText(this.content).width}get height(){return this._ctx.textBaseline="top",this._ctx.font=`${this.fontSize}px font`,this._ctx.measureText(this.content).fontBoundingBoxDescent-this._ctx.measureText(this.content).fontBoundingBoxAscent}}const g=60,at=32,lt=18,T=at*g,ct=lt*g;function dt(r,i){const t=new _,e=new f(r*g,i*g),s=new W(g,g,"green"),o=new A(s),h=new w;return t.add(e,s,o,h)}const ut=[[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],gt={1:dt};function ft(r,i){for(let t=0;t<r.length;t++)for(let e=0;e<r[0].length;e++){const s=r[t][e],o=gt[s];o&&i.add(o(e,t))}}var pt="data:image/png;base64,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",mt="data:image/png;base64,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",_t="data:image/png;base64,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",At="./assets/pixel.01918d86.ttf",yt="./assets/jumpfx.77eebd35.wav",wt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAABxklEQVRoQ+3ZzXUDIQwEYPuUXlxEik8R6SWn+O1h8+INSIMY0GwWXw0yH4hf328X+9wv5r3B4K+Px7fXOW/vn3A8L9ao790GItBj45ThJjiC3fGq6CLYgpYgreVHpSsSFwYjI1aCI/WQhrLK/AH3Nrq3PgtWi/MCZjWWFWcE3gT3pOMR3ROLCf8Bj2jgiJi9+AXeepCZfr9HmRk3OtLFEWY2bIGjQ0Oqt0b4knOYhV7bksB9+bonrS2NWWdgVhzSwvwS5tq3pb0roiN0hocA+AHAerpBn4KYJ7houg9904pmShSD1Bv+aqmGdsHWvEafZ5XQMBhJF6uMCnoamLnP93T+VLACejo4G50CzkSngbPQqeAMdDp4NloCPBMtAZ55y0oHIzct5i1LDrzhRh5DU8HWq+YodBoYASFlWs/VMuDaPGWjJcDeosREp4FbUrG2knsdVfoNebC3bbWipcEe1npJrWWQLNiatz1zWhKMgJAyp5jDLZCWsjteaoQjgNY6MuDWhteulN5CJgFmYy20JNjbW2sdhHScHDiKrf0ldIwnAUaPmcgIHuf2vwJ72XCKfRj9Qy6C3WKfKqXR1LfKLTCjF5VjPAG8iHRMdLMyIQAAAABJRU5ErkJggg==",xt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAA8CAYAAACtrX6oAAADiElEQVR4Xu2YwVHEMAxFoRM64ET/BXCiAzqB2UNmQrCj/6Uv2c5mr2tben6W7N3Xl/tz6R14vTRdAtz3+8fPtuzb1+f0+zd9ggmO3Evu5a4i+RYM6m7JfUzNqGJllwgLViYD7vWQYT3BasnqLhESrE5miDkg6JlcpeCMLuEWnJFMb69HdglLruoutuJ4rwK5YOWJfqw1sktYm348kF4JaBzP+i7BVkKeRFrVW9kljvEtxla+Hm4mjmd9WjCakCeZ/aZZcaLrW1evFb83n8nLE4NZ/5EjJZhNiE1m2zQ0jnf9LLnM9YQyRjsFLNiTkEcAE8ezfqZc5sHFcEbu+lTBzInuPagsIUrJkU3f52nlpIhjxdjygQRHEkITqYhhHZZIDmiVVcTY52IKViSESI7EQdavlNtr1RFG7118KliVkCVAEceKcSZYEd8SUBGjlUOJ4LO7WAnulazModWqM9e33jldwRlJHQWoY8wo2LoaFN+fcTcFqze+dSdVxGA2LysfJofI2J7kUsFbO8neTE8lZ+cUkYfMnUYwkmx0jEew93d4NFfVfErw6rDWw2PEi1ol0nqtH78vfWRlQqJ/NCA5rNau6UfWtgmrge7ledv0at3L4iz5JwupGuUYCxqJtcrhtlhNwaud6Mj9exQ/u2RL7oPncoIRaKSCZz/YKCckeHZY1d3bEj9rFcsFryAZhUYreNbHJsMJV/DsghnoW/DJDqzesli5s1Uxe5CpCp4NdsuHhV5ZMst6CyZtj+xgrFz4Z9LMr0sPNOn0z/BRgr2crgqeqVV7wVeT7OUMCR79svZCR+SOONwRzmUFR6BvweQOjLiXRguu6l5RznAFr9ayyLNrDs883FG5oVf0kTwT9BhLAW6aAwdkcis4ZRW8SssCvVHDMiQr5EoruKJVq6Ape+BgtWQVq7SCs6tYBQ06o4epJCs55YKzJCuhaXPgBIVgNWeK4AzJanDQGT0sKlnNmSZYKVkNTVsjJ3glZ3BOLzgDmvRFD38awYoqXlGwhzuLM7WCoz+dsqDpknROYCo5i/UW7JSHTEMFZ8lN+aOjB47CbvMzoRE5qjEWdzZnSQV7WnU2uEogss6Z5GzOKQVnQyNS1GNakis4SwUjr8sKaLU8ZL2nEWxJvqrgI3cVZ3kFn93HVdBIxV1lzC34KiY7HMMEj2pZF/f5D2+o4Gfb7BG8t+ARu14Y8xdqUyBblK9J1QAAAABJRU5ErkJggg==";const Ct={width:500,nLines:2,x:0,y:0,fontSize:36,textColor:"#000",backgroundColor:"#e3e3e3",speed:.025,lineHeight:1.12,paddingX:30,paddingTop:0,paddingBottom:0,key:"Space"};class bt{constructor(i){n(this,"options",Ct);n(this,"isOpen",!1);n(this,"_textWidth");n(this,"_height");n(this,"_linesObjects");n(this,"_rectObject");n(this,"_charCursor",0);n(this,"_time",0);n(this,"_lineCursor",0);n(this,"_currentChunk",[]);n(this,"_textChuncks");n(this,"_animRunning",!1);n(this,"_onComplete");this.options={...this.options,...i},this._textWidth=this.options.width-2*this.options.paddingX,this._height=this.options.fontSize*this.options.nLines*this.options.lineHeight+this.options.paddingTop+this.options.paddingBottom}open(i,t,e){this.isOpen||(this._createDialogElements(i,t),this._onComplete=e)}_createDialogElements(i,t){this.isOpen=!0,this._linesObjects=this.textEl(),this._rectObject=this.rectEl(),this._textChuncks=this.textToLines(i),this._charCursor=0,this._lineCursor=0,this._currentChunk=this._textChuncks.shift(),this._time=0,this._animRunning=!0,this._rectObject.onUpdate=e=>{this._animRunning?this._anim(e):I(this.options.key)&&this._onKeyPress()},t.add(this._rectObject,...this._linesObjects)}_anim(i){this._time+=i,this._time>this.options.speed&&(this._time=0,this._nextChar())}_nextChar(){this._charCursor++,this._linesObjects[this._lineCursor].get(b).content=this._currentLine.slice(0,this._charCursor),this._charCursor>this._currentLine.length&&this._nextLine()}get _currentLine(){var i;return this._currentChunk&&(i=this._currentChunk[this._lineCursor])!=null?i:""}_nextLine(){this._charCursor=0,this._lineCursor++,this._lineCursor>=this.options.nLines&&(this._animRunning=!1,this._lineCursor=0)}_onKeyPress(){var i;this._textChuncks.length?(this._currentChunk=this._textChuncks.shift(),this._charCursor=0,this._lineCursor=0,this._time=0,this._animRunning=!0,(i=this._linesObjects)==null||i.forEach(t=>t.get(b).content="")):this._close()}_close(){var i,t;(i=this._rectObject)==null||i.destroy(),(t=this._linesObjects)==null||t.forEach(e=>e.destroy()),this.isOpen=!1,this._onComplete&&(this._onComplete(),this._onComplete=void 0)}textToLines(i){i=i.replace(/( [\?|\!|\:])/g,o=>o.replace(" ","\xA0"));const t=new b("","font",this.options.fontSize,"#ffffff"),e=i.split(" ");let s=[""];for(const o of e){const h=s.at(-1)+" "+o;t.content=h,t.width>this._textWidth?s.push(o):s[s.length-1]=h.trim()}return ot(s,this.options.nLines)}rectEl(){return new _().add(new f(this.options.x,this.options.y),new W(this.options.width,this._height,this.options.backgroundColor))}textEl(){return Array.from({length:this.options.nLines}).map((i,t)=>{const e=new _,s=new b("","font",this.options.fontSize,this.options.textColor),o=new f(this.options.x+this.options.paddingX,t*this.options.lineHeight*this.options.fontSize+this.options.paddingTop);return e.add(o,s)})}}const k=E(_t,4,1),vt=E(mt,3,1),Rt=E(pt,3,1);Z(wt);E(xt,2,1);$(yt);X(At,"font");new bt({x:T-g*8,paddingTop:20,paddingBottom:20,width:g*8,nLines:8});class Lt{constructor(i,t){n(this,"_animComponent");n(this,"_animations");this._animComponent=i,this._animations=t}changeAnim(i){const t=this._animations[i];t&&(this._animComponent.spriteSheet=t.spritesheet,this._animComponent.anim=t.anim,this._animComponent.flipX=t.flip)}idle(i,t){var s,o;const e=this._animations[i];e&&(this._animComponent.spriteSheet=e.spritesheet,this._animComponent.anim=[(o=(s=e.idle)!=null?s:t)!=null?o:0],this._animComponent.flipX=e.flip)}}const Et={left:{spritesheet:k,anim:[1,2,3,2],flip:!1,idle:0},right:{spritesheet:k,anim:[1,2,3,2],flip:!0,idle:0},bottom:{spritesheet:vt,anim:[0,2],flip:!1,idle:1},top:{spritesheet:Rt,anim:[0,2],flip:!0,idle:1}};function kt(){const r=new _,i=new f(0,0),t=new ht(k,[0,1,2,3]),e=new A(t),s=new w,o=new rt(60,30),h=new Lt(t,Et);return h.idle("bottom"),o.onChangeDir=a=>{o.walking?h.changeAnim(a):h.idle(a)},o.onStartWalking=a=>{h.changeAnim(a)},o.onStopWalking=a=>h.idle(a),r.onUpdate=function(){C("ArrowRight")&&o.goTo("right"),C("ArrowLeft")&&o.goTo("left"),C("ArrowUp")&&o.goTo("top"),C("ArrowDown")&&o.goTo("bottom")},r.add(i,t,e,s,o)}const L=new it(T,ct);function St(r,i,t){const s=new _,o=new f(r+2/2,i+2/2),h=new W(t-2,t-2,"white");return s.add(o,h)}const Wt=()=>{const r=new st;for(let i=0;i<L.height;i+=g)for(let t=0;t<L.width;t+=g)r.add(St(t,i,g));return ft(ut,r),r.add(kt())};L.scene=Wt();L.start();
